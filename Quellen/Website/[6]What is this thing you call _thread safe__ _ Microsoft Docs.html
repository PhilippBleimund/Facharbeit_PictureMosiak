<!DOCTYPE html>
<!-- saved from url=(0098)https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe -->
<html class="hasSidebar hasPageActions hasBreadcrumb conceptual has-default-focus js-focus-visible theme-dark" lang="en-us" dir="ltr" data-css-variable-support="true" data-authenticated="false" data-auth-status-determined="true" data-target="docs" x-ms-format-detection="none" data-js-focus-visible=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="What is this thing you call &#39;thread safe&#39;?">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe">

	<meta name="twitter:card" content="summary">

	<meta name="twitter:site" content="@docsmsft">

	<meta name="color-scheme" content="light dark">


	<meta name="archived_blog_id" content="22">
<meta name="archived_blog_orig_url" content="https://blogs.msdn.microsoft.com/ericlippert">
<meta name="archived_blog_post_author" content="Eric Lippert">
<meta name="archived_blog_post_author_email" content="Eric@Lippert.com">
<meta name="archived_blog_post_id" content="608">
<meta name="author" content="kexugit">
<meta name="breadcrumb_path" content="/archive/blogs/bread/toc.json">
<meta name="depot_name" content="MSDN.blogs-archive">
<meta name="document_id" content="70dc2e8b-7874-b243-76b0-4896d005df6e">
<meta name="document_version_independent_id" content="4accae7d-df63-5e41-d718-431f05057c4b">
<meta name="gitcommit" content="https://docs-archive.visualstudio.com/DefaultCollection/docs-archive-project/_git/blogs-archive-pr/commit/cc2b3ef2b814609fb97984d31b16ea408e4b70b9?path=/blogs-archive/ericlippert/what-is-this-thing-you-call-thread-safe.md&amp;_a=contents">
<meta name="is_archived" content="true">
<meta name="locale" content="en-us">
<meta name="ms.author" content="Archiveddocs">
<meta name="ms.date" content="10/19/2009">
<meta name="ms.topic" content="Archived">
<meta name="original_content_git_url" content="https://docs-archive.visualstudio.com/DefaultCollection/docs-archive-project/_git/blogs-archive-pr?path=/blogs-archive/ericlippert/what-is-this-thing-you-call-thread-safe.md&amp;version=GBlive&amp;_a=contents">
<meta name="page_type" content="conceptual">
<meta name="ROBOTS" content="NOINDEX,NOFOLLOW">
<meta name="schema" content="Conceptual">
<meta name="site_name" content="Docs">
<meta name="toc_rel" content="toc.json">
<meta name="uhfHeaderId" content="MSDocsHeader-Archive">
<meta name="updated_at" content="2021-08-06 04:24 AM">
<meta name="word_count" content="1245">


	<meta name="scope" content="Blogs">
<link href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe" rel="canonical">
	<title>What is this thing you call "thread safe"? | Microsoft Docs</title>

		<link rel="stylesheet" href="./[6]What is this thing you call _thread safe__ _ Microsoft Docs_files/756090ed.site-ltr.css">

	

	<script id="msdocs-script">
	var msDocs = {
		data: {
			timeOrigin: Date.now(),
			contentLocale: 'en-us',
			contentDir: 'ltr',
			userLocale: 'en-us',
			userDir: 'ltr',
			pageTemplate: 'Conceptual',
			brand: '',
			context: {

			},
			hasBinaryRating: false,
			hasGithubIssues: false,
			showFeedbackReport: false,
			enableTutorialFeedback: false,
			feedbackSystem: 'None',
			feedbackGitHubRepo: '',
			feedbackProductUrl: '',
			contentGitUrl: 'https://docs-archive.visualstudio.com/DefaultCollection/docs-archive-project/_git/blogs-archive-pr?path=/blogs-archive/ericlippert/what-is-this-thing-you-call-thread-safe.md&version=GBlive&_a=contents',
			extendBreadcrumb: false,
			isEditDisplayable: false,
			hideViewSource: false,
			hasPageActions: true,
			hasBookmark: true,
			hasShare: true,
			hasRecommendations: true,
		},
		functions:{}
	};
	</script>
	<script src="./[6]What is this thing you call _thread safe__ _ Microsoft Docs_files/wcp-consent.js.Download"></script>
	<script src="./[6]What is this thing you call _thread safe__ _ Microsoft Docs_files/ms.jsll-3.min.js.Download"></script>

	<script src="./[6]What is this thing you call _thread safe__ _ Microsoft Docs_files/5cce29c0.deprecation.js.Download"></script>
		<script src="./[6]What is this thing you call _thread safe__ _ Microsoft Docs_files/2a7fa923.index-docs.js.Download"></script><style></style>
<style id="ms-consent-banner-main-styles">.w8hcgFksdo30C8w-bygqu{color:#000}.ydkKdaztSS0AeHWIeIHsQ a{color:#0067B8}.erL690_8JwUW-R4bJRcfl{background-color:#EBEBEB;border:none;color:#000}.erL690_8JwUW-R4bJRcfl:enabled:hover{color:#000;background-color:#DBDBDB;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:none}.erL690_8JwUW-R4bJRcfl:enabled:focus{background-color:#DBDBDB;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:2px solid #000}.erL690_8JwUW-R4bJRcfl:disabled{opacity:1;color:rgba(0,0,0,0.2);background-color:rgba(0,0,0,0.2);border:none}._1zNQOqxpBFSokeCLGi_hGr{border:none;background-color:#0067B8;color:#fff}._1zNQOqxpBFSokeCLGi_hGr:enabled:hover{color:#fff;background-color:#0067B8;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:none}._1zNQOqxpBFSokeCLGi_hGr:enabled:focus{background-color:#0067B8;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:2px solid #000}._1zNQOqxpBFSokeCLGi_hGr:disabled{opacity:1;color:rgba(0,0,0,0.2);background-color:rgba(0,120,215,0.2);border:none}._23tra1HsiiP6cT-Cka-ycB{position:relative;display:flex;z-index:9999;width:100%;background-color:#F2F2F2;justify-content:space-between;text-align:left}div[dir="rtl"]._23tra1HsiiP6cT-Cka-ycB{text-align:right}._1Upc2NjY8AlDn177YoVj0y{margin:0;padding-left:5%;padding-top:8px;padding-bottom:8px}div[dir="rtl"] ._1Upc2NjY8AlDn177YoVj0y{margin:0;padding:8px 5% 8px 0;float:none}._23tra1HsiiP6cT-Cka-ycB svg{fill:none;max-width:none;max-height:none}._1V_hlU-7jdtPiooHMu89BB{display:table-cell;padding:12px;width:24px;height:24px;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:24px;line-height:0}.f6QKJD7fhSbnJLarTL-W-{display:table-cell;vertical-align:middle;padding:0;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:13px;line-height:16px}.f6QKJD7fhSbnJLarTL-W- a{text-decoration:underline}._2j0fmugLb1FgYz6KPuB91w{display:inline-block;margin-left:5%;margin-right:5%;min-width:40%;min-width:calc((150px + 3 * 4px) * 2 + 150px);min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;align-self:center;position:relative}._1XuCi2WhiqeWRUVp3pnFG3{margin:4px;padding:5px;min-width:150px;min-height:36px;vertical-align:top;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-align:center}._1XuCi2WhiqeWRUVp3pnFG3:focus{box-sizing:border-box}._1XuCi2WhiqeWRUVp3pnFG3:disabled{cursor:not-allowed}._2bvsb3ubApyZ0UGoQA9O9T{display:block;position:fixed;z-index:10000;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,0.6);overflow:auto;text-align:left}div[dir="rtl"]._2bvsb3ubApyZ0UGoQA9O9T{text-align:right}div[dir="rtl"] ._2bvsb3ubApyZ0UGoQA9O9T{left:auto;right:0}.AFsJE948muYyzCMktdzuk{position:relative;top:8%;margin-bottom:40px;margin-left:auto;margin-right:auto;box-sizing:border-box;width:640px;background-color:#fff;border:1px solid #0067B8}._3kWyBRbW_dgnMiEyx06Fu4{float:right;z-index:1;margin:2px;padding:12px;border:none;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:13px;line-height:13px;display:flex;align-items:center;text-align:center;color:#666;background-color:#fff}div[dir="rtl"] ._3kWyBRbW_dgnMiEyx06Fu4{margin:2px;padding:12px;float:left}.uCYvKvHXrhjNgflv1VqdD{position:static;margin-top:36px;margin-left:36px;margin-right:36px}._17pX1m9O_W--iZbDt3Ta5r{margin-top:0;margin-bottom:12px;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:600;font-size:20px;line-height:24px;text-transform:none}._1kBkHQ1V1wu3kl-YcLgUr6{height:446px;overflow:auto}._20_nXDf6uFs9Q6wxRXG-I-{margin-top:0;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px}._20_nXDf6uFs9Q6wxRXG-I- a{text-decoration:underline}dl._2a0NH_GDQEQe5Ynfo7suVH{margin-top:36px;margin-bottom:0;padding:0;list-style:none;text-transform:none}dt._3j_LCPv7fyXv3A8FIXVwZ4{margin-top:20px;float:none;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:24px;list-style:none}.k-vxTGFbdq1aOZB2HHpjh{margin:0;padding:0;border:none}._2Bucyy75c_ogoU1g-liB5R{margin:0;padding:0;border-bottom:none;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:24px;text-transform:none}._63gwfzV8dclrsl2cfd90r{display:inline-block;margin-top:0;margin-bottom:13px;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px}._1l8wM_4mRYGz3Iu7l3BZR7{display:block}._2UE03QS02aZGkslegN_F-i{display:inline-block;position:relative;left:5px;margin-bottom:13px;margin-right:34px;padding:3px}div[dir="rtl"] ._2UE03QS02aZGkslegN_F-i{margin:0 0 13px 34px;padding:3px;float:none}div[dir="rtl"] ._2UE03QS02aZGkslegN_F-i{left:auto;right:5px}._23tra1HsiiP6cT-Cka-ycB *::before,._2bvsb3ubApyZ0UGoQA9O9T *::before,._23tra1HsiiP6cT-Cka-ycB *::after,._2bvsb3ubApyZ0UGoQA9O9T *::after{box-sizing:inherit}._1HSFn0HzGo6w4ADApV8-c4{outline:2px solid rgba(0,0,0,0.8)}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2{display:inline-block;position:relative;margin-top:0;margin-left:0;margin-right:0;height:0;width:0;border-radius:0;cursor:pointer;outline:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2+label::before{display:block;position:absolute;top:5px;left:3px;height:19px;width:19px;content:"";border-radius:50%;border:1px solid #000;background-color:#fff}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2+label::before{left:auto;right:3px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:hover::before{border:1px solid #0067B8}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:hover::after{display:block;position:absolute;top:10px;left:8px;height:9px;width:9px;content:"";border-radius:50%;background-color:rgba(0,0,0,0.8)}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:hover::after{left:auto;right:8px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:focus::before{border:1px solid #0067B8}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:focus::after{display:block;position:absolute;top:10px;left:8px;height:9px;width:9px;content:"";border-radius:50%;background-color:#000}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:focus::after{left:auto;right:8px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:checked+label::after{display:block;position:absolute;top:10px;left:8px;height:9px;width:9px;content:"";border-radius:50%;background-color:#000}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:checked+label::after{left:auto;right:8px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:disabled+label{cursor:not-allowed}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:disabled+label::before{border:1px solid rgba(0,0,0,0.2);background-color:rgba(0,0,0,0.2)}._3RJzeL3l9Rl_lAQEm6VwdX{display:block;position:static;float:right;margin-top:0;margin-bottom:0;margin-left:19px;margin-right:0;padding-top:0;padding-bottom:0;padding-left:8px;padding-right:0;width:80%;width:calc(100% - 19px);font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-transform:none;cursor:pointer;box-sizing:border-box}div[dir="rtl"] ._3RJzeL3l9Rl_lAQEm6VwdX{margin:0 19px 0 0;padding:0 8px 0 0;float:left}.nohp3sIG12ZBhzcMnPala{margin-top:20px;margin-bottom:48px}._2uhaEsmeotZ3P-M0AXo2kF{padding:0;width:278px;height:36px;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-align:center}._2uhaEsmeotZ3P-M0AXo2kF:focus{box-sizing:border-box}._2uhaEsmeotZ3P-M0AXo2kF:disabled{cursor:not-allowed}._3tOu1FJ59c_xz_PmI1lKV5{float:right;padding:0;width:278px;height:36px;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-align:center}._3tOu1FJ59c_xz_PmI1lKV5:focus{box-sizing:border-box}._3tOu1FJ59c_xz_PmI1lKV5:disabled{cursor:not-allowed}div[dir="rtl"] ._3tOu1FJ59c_xz_PmI1lKV5{margin:0;padding:0;float:left}@media only screen and (max-width: 768px){._2j0fmugLb1FgYz6KPuB91w,._1Upc2NjY8AlDn177YoVj0y{padding-top:8px;padding-bottom:12px;padding-left:3.75%;padding-right:3.75%;margin:0;width:92.5%}._23tra1HsiiP6cT-Cka-ycB{display:block}._1XuCi2WhiqeWRUVp3pnFG3{margin-bottom:8px;margin-left:0;margin-right:0;width:100%}._2bvsb3ubApyZ0UGoQA9O9T{overflow:hidden}.AFsJE948muYyzCMktdzuk{top:1.8%;width:93.33%;height:96.4%;overflow:hidden}.uCYvKvHXrhjNgflv1VqdD{margin-top:24px;margin-left:24px;margin-right:24px;height:100%}._1kBkHQ1V1wu3kl-YcLgUr6{height:62%;height:calc(100% - 188px);min-height:50%}._2uhaEsmeotZ3P-M0AXo2kF{width:100%}._3tOu1FJ59c_xz_PmI1lKV5{margin-bottom:12px;margin-left:0;width:100%}div[dir="rtl"] ._3tOu1FJ59c_xz_PmI1lKV5{margin:0 0 12px 0;padding:0;float:none}}@media only screen and (max-width: 768px) and (orientation: landscape), only screen and (max-height: 260px), only screen and (max-width: 340px){.AFsJE948muYyzCMktdzuk{overflow:auto}}@media only screen and (max-height: 260px), only screen and (max-width: 340px){._1XuCi2WhiqeWRUVp3pnFG3{min-width:0}._3kWyBRbW_dgnMiEyx06Fu4{padding:3%}.uCYvKvHXrhjNgflv1VqdD{margin-top:3%;margin-left:3%;margin-right:3%}._17pX1m9O_W--iZbDt3Ta5r{margin-bottom:3%}._1kBkHQ1V1wu3kl-YcLgUr6{height:calc(79% - 64px)}.nohp3sIG12ZBhzcMnPala{margin-top:5%;margin-bottom:10%}._3tOu1FJ59c_xz_PmI1lKV5{margin-bottom:3%}div[dir="rtl"] ._3tOu1FJ59c_xz_PmI1lKV5{margin:0 0 3% 0;padding:0;float:none}}
</style><style type="text/css" id="ms-consent-banner-theme-styles">._23tra1HsiiP6cT-Cka-ycB {
            background-color: #242424 !important;
        }.w8hcgFksdo30C8w-bygqu {
            color: #E3E3E3 !important;
        }.ydkKdaztSS0AeHWIeIHsQ a {
            color: #4DB2FF !important;
        }._2bvsb3ubApyZ0UGoQA9O9T {
            background-color: rgba(23, 23, 23, 0.6) !important;
        }.AFsJE948muYyzCMktdzuk {
            background-color: #171717 !important;
            border: 1px solid #4DB2FF !important;
        }._3kWyBRbW_dgnMiEyx06Fu4 {
            color: #E3E3E3 !important;
            background-color: #171717 !important;
        }._1zNQOqxpBFSokeCLGi_hGr {
            border: 1px solid #4DB2FF !important;
            background-color: #4DB2FF !important;
            color: black !important;
        }._1zNQOqxpBFSokeCLGi_hGr:enabled:hover {
            color: black !important;
            background-color: #0091FF !important;
            box-shadow: none !important;
            border: 1px solid rgba(0, 0, 0, 0) !important;
        }._1zNQOqxpBFSokeCLGi_hGr:enabled:focus {
            background-color: #0091FF !important;
            box-shadow: none !important;
            border: 2px solid #4DB2FF !important;
        }._1zNQOqxpBFSokeCLGi_hGr:disabled {
            opacity: 0.5 !important;
            color: black !important;
            background-color: #4DB2FF !important;
            border: 1px solid rgba(255, 255, 255, 0) !important;
        }.erL690_8JwUW-R4bJRcfl {
            border: 1px solid #C7C7C7 !important;
            background-color: #171717 !important;
            color: #E3E3E3 !important;
        }.erL690_8JwUW-R4bJRcfl:enabled:hover {
            color: #E3E3E3 !important;
            background-color: #2E2E2E !important;
            box-shadow: none !important;
            border: 1px solid #C7C7C7 !important;
        }.erL690_8JwUW-R4bJRcfl:enabled:focus {
            background-color: #2E2E2E !important;
            box-shadow: none !important;
            border: 2px solid #C7C7C7 !important;
        }.erL690_8JwUW-R4bJRcfl:disabled {
            opacity: 0.5 !important;
            color: #E3E3E3 !important;
            background-color: #2E2E2E !important;
            border: 1px solid #242424 !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label::before {
            border: 1px solid #E3E3E3 !important;
            background-color: #171717 !important;
        }._1HSFn0HzGo6w4ADApV8-c4 {
            outline: 2px solid rgba(227, 227, 227, 0.8) !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:checked + label::after {
            background-color: #E3E3E3 !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:hover::before {
            border: 1px solid #4DB2FF !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:hover::after {
            background-color: rgba(227, 227, 227, 0.8) !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:focus::before {
            border: 1px solid #4DB2FF !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:focus::after {
            background-color: #E3E3E3 !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:disabled + label::before {
            border: 1px solid rgba(227, 227, 227, 0.2) !important;
            background-color: rgba(227, 227, 227, 0.2) !important;
        }</style><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"name":"Docs","position":1,"@type":"ListItem","item":"https://docs.microsoft.com/en-us/"},{"name":"Blog Archive","position":2,"@type":"ListItem","item":"https://docs.microsoft.com/en-us/archive/blogs/"},{"name":"Fabulous Adventures In Coding","position":3,"@type":"ListItem","item":"https://docs.microsoft.com/en-us/archive/blogs/ericlippert"}]}</script></head>

<body lang="en-us" dir="ltr">
	<div class="header-holder has-default-focus">
		<a href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe#main" class="skip-to-main-link has-outline-color-text visually-hidden-until-focused position-fixed has-inner-focus focus-visible top-0 left-0 right-0 padding-xs has-text-centered has-body-background" tabindex="1">Skip to main content</a>

		<div id="cookie-consent-holder"></div>

		<div id="unsupported-browser" style="
			background-color: white;
			color: black;
			padding: 16px;
			border-bottom: 1px solid grey;" hidden="">
			<div style="max-width: 800px; margin: 0 auto;">
				<p style="font-size: 24px">This browser is no longer supported.</p>
				<p style="font-size: 16px; margin-top: 16px;">Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.</p>
				<div style="margin-top: 12px;">
					<a href="https://go.microsoft.com/fwlink/p/?LinkID=2092881" style="
						background-color: #0078d4;
						border: 1px solid #0078d4;
						color: white;
						padding: 6px 12px;
						border-radius: 2px;
						display: inline-block;
						">
Download Microsoft Edge					</a>
					<a href="https://docs.microsoft.com/en-US/lifecycle/faq/internet-explorer-microsoft-edge" style="
							background-color: white;
							padding: 6px 12px;
							border: 1px solid #505050;
							color: #171717;
							border-radius: 2px;
							display: inline-block;
							">
More info					</a>
				</div>
			</div>

		</div>
		<!-- liquid-tag banners global -->
		<div id="headerAreaHolder" data-bi-name="header">
<header role="banner" itemscope="itemscope" itemtype="http://schema.org/Organization"><!----> <div class="nav-bar"><!---->  <div class="nav-bar-brand">
		<a class="nav-bar-button" itemprop="url" href="https://www.microsoft.com/" aria-label="Microsoft">
			 <div class="nav-bar-logo" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope">
		<svg xmlns="http://www.w3.org/2000/svg" width="108" height="23" viewBox="72 72 337 74" preserveAspectRatio="xMidYMin slice">
			<g data-name="MS-symbol">
				<clippath>
					<path transform="matrix(1 0 0 -1 0 216)" d="M0 216h482V0H0z"></path>
				</clippath>
				<g clip-path="url(#a)">
					<path class="fill-current-color color-text-subtle" d="M394.942 104.59h-10.858v25.003h-7.38V104.59h-5.182v-5.965h5.182v-4.308c0-3.254 1.06-5.92 3.178-7.998 2.12-2.079 4.835-3.118 8.15-3.118.882 0 1.666.045 2.35.135a9.37 9.37 0 011.806.407v6.296c-.24-.14-.663-.31-1.265-.512-.603-.2-1.296-.3-2.078-.3-1.528 0-2.702.476-3.526 1.43-.824.954-1.235 2.365-1.235 4.232v3.736h10.858v-6.959l7.321-2.229v9.188h7.381v5.965h-7.38v14.49c0 1.91.345 3.254 1.038 4.037.693.783 1.782 1.175 3.27 1.175.42 0 .927-.1 1.52-.3a7.178 7.178 0 001.552-.724v6.025c-.463.261-1.23.502-2.305.723a15.742 15.742 0 01-3.178.331c-3.073 0-5.378-.817-6.914-2.455-1.537-1.637-2.305-4.102-2.305-7.396zm-48.407 9.73c0 3.233.733 5.703 2.2 7.411 1.465 1.707 3.564 2.56 6.295 2.56 2.652 0 4.67-.853 6.055-2.56 1.386-1.708 2.08-4.238 2.08-7.592 0-3.334-.719-5.849-2.155-7.547-1.436-1.697-3.45-2.545-6.04-2.545-2.67 0-4.745.888-6.22 2.666-1.477 1.777-2.215 4.313-2.215 7.607m-7.592.24c0-5.12 1.446-9.177 4.338-12.17 2.892-2.993 6.91-4.489 12.05-4.489 4.841 0 8.621 1.441 11.343 4.323 2.721 2.883 4.082 6.774 4.082 11.674 0 5.021-1.447 9.018-4.338 11.99-2.892 2.973-6.829 4.458-11.81 4.458-4.8 0-8.61-1.41-11.432-4.232-2.822-2.82-4.233-6.673-4.233-11.554m-16.417-7.802c0 1.045.331 1.863.994 2.456.662.592 2.128 1.34 4.398 2.243 2.912 1.166 4.956 2.476 6.131 3.932 1.175 1.456 1.762 3.22 1.762 5.287 0 2.912-1.12 5.252-3.359 7.02-2.24 1.767-5.267 2.65-9.083 2.65-1.285 0-2.706-.155-4.263-.467-1.556-.31-2.877-.707-3.96-1.19v-7.169a17.945 17.945 0 004.277 2.198c1.526.543 2.911.814 4.157.814 1.647 0 2.862-.23 3.645-.693.784-.46 1.175-1.235 1.175-2.319 0-1.005-.406-1.853-1.22-2.546-.813-.693-2.355-1.492-4.624-2.395-2.69-1.125-4.599-2.39-5.724-3.796-1.125-1.406-1.687-3.193-1.687-5.362 0-2.792 1.11-5.086 3.33-6.884 2.217-1.797 5.095-2.696 8.63-2.696 1.084 0 2.3.12 3.645.361 1.346.242 2.47.553 3.374.934v6.93c-.964-.644-2.089-1.195-3.374-1.658-1.286-.462-2.56-.693-3.826-.693-1.386 0-2.465.271-3.238.813-.774.543-1.16 1.286-1.16 2.23m-35.066 7.562c0 3.233.733 5.703 2.2 7.411 1.465 1.707 3.564 2.56 6.295 2.56 2.652 0 4.67-.853 6.055-2.56 1.386-1.708 2.08-4.238 2.08-7.592 0-3.334-.719-5.849-2.155-7.547-1.436-1.697-3.449-2.545-6.039-2.545-2.672 0-4.745.888-6.222 2.666-1.476 1.777-2.214 4.313-2.214 7.607m-7.592.24c0-5.12 1.446-9.177 4.338-12.17 2.893-2.993 6.91-4.489 12.051-4.489 4.84 0 8.621 1.441 11.342 4.323 2.721 2.883 4.082 6.774 4.082 11.674 0 5.021-1.446 9.018-4.338 11.99-2.892 2.973-6.828 4.458-11.809 4.458-4.8 0-8.61-1.41-11.433-4.232-2.822-2.82-4.233-6.673-4.233-11.554m-3.136-16.448c.582 0 1.105.041 1.567.121.462.08.853.18 1.175.301v7.38c-.382-.28-.939-.546-1.672-.798-.733-.25-1.622-.376-2.666-.376-1.788 0-3.299.753-4.534 2.26-1.235 1.505-1.853 3.825-1.853 6.958v15.635h-7.29V98.624h7.29v4.88h.12c.663-1.687 1.667-3.007 3.013-3.96 1.346-.954 2.962-1.432 4.85-1.432m-27.956 26.18c1.084 0 2.28-.25 3.585-.754a15.06 15.06 0 003.615-1.988v6.778c-1.165.663-2.485 1.165-3.962 1.506-1.475.342-3.098.512-4.865.512-4.559 0-8.265-1.44-11.116-4.323-2.852-2.88-4.278-6.562-4.278-11.04 0-4.98 1.456-9.083 4.37-12.307 2.91-3.224 7.037-4.835 12.38-4.835 1.366 0 2.746.176 4.143.527 1.395.352 2.504.758 3.328 1.22v6.99c-1.125-.824-2.274-1.462-3.45-1.914a9.966 9.966 0 00-3.599-.678c-2.872 0-5.192.934-6.959 2.802-1.768 1.868-2.652 4.388-2.652 7.562 0 3.132.85 5.573 2.546 7.32 1.697 1.748 4.002 2.621 6.914 2.621m-22.112 5.302h-7.29V98.624h7.29zm-8.044-39.916c0-1.205.437-2.214 1.311-3.028.874-.813 1.913-1.22 3.118-1.22 1.285 0 2.35.417 3.193 1.25.844.834 1.266 1.833 1.266 2.998 0 1.185-.432 2.18-1.296 2.982-.864.804-1.918 1.205-3.163 1.205-1.246 0-2.295-.406-3.148-1.219-.854-.815-1.28-1.803-1.28-2.968m-6.274-3.284v43.2h-7.5v-33.86h-.12l-13.408 33.86h-4.97l-13.738-33.86h-.09v33.86h-6.929v-43.2h10.755l12.412 32.024h.18l13.105-32.024z"></path>
					<path d="M106.214 106.214H71.996V71.996h34.218z" fill="#f25022"></path>
					<path d="M143.993 106.214h-34.218V71.996h34.218z" fill="#7fba00"></path>
					<path d="M106.214 143.993H71.996v-34.218h34.218z" fill="#00a4ef"></path>
					<path d="M143.993 143.993h-34.218v-34.218h34.218z" fill="#ffb900"></path>
				</g>
			</g>
		</svg>
	</div>
		</a>
	</div> 
				
		<div class="nav-bar-item is-hidden-tablet">
			<div class="nav-bar-menu">
				<button class="nav-bar-button is-title" title="Global navigation" aria-expanded="false">
					<span class="nav-bar-menu-title"><!---->Documentation<!----></span>
					<div class="nav-bar-burger">
						<span></span>
						<span></span>
						<span></span>
						<span class="nav-bar-burger-label"><!---->Global navigation<!----></span>
					</div>
				</button>
			</div>
		</div>
	
				
		<nav class="nav-bar-nav" role="navigation" aria-label="Global">
			<ul class="nav-bar-nav-list">
				
		<li class="nav-bar-item is-category">
			<a class="nav-bar-button is-title has-hover-underline" itemprop="url" href="https://docs.microsoft.com/en-us/">
				<span><!---->Docs<!----></span>
			</a>
		</li>
	
				<!---->
				<li class="nav-bar-item">
					<a class=" nav-bar-button has-hover-underline is-active" href="https://docs.microsoft.com/en-us/documentation">
						<span><!---->Documentation<!----></span>
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item">
					<a class=" nav-bar-button has-hover-underline " href="https://docs.microsoft.com/en-us/learn/">
						<span><!---->Learn<!----></span>
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item">
					<a class=" nav-bar-button has-hover-underline " href="https://docs.microsoft.com/en-us/answers/products/">
						<span><!---->Q&amp;A<!----></span>
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item">
					<a class=" nav-bar-button has-hover-underline " href="https://docs.microsoft.com/en-us/samples/browse/">
						<span><!---->Code Samples<!----></span>
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item">
					<a class=" nav-bar-button has-hover-underline " href="https://docs.microsoft.com/en-us/shows/">
						<span><!---->Shows<!----></span>
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item">
					<a class=" nav-bar-button has-hover-underline " href="https://docs.microsoft.com/en-us/events/">
						<span><!---->Events<!----></span>
					</a>
				</li>
		  <!----> <li class="dropdown nav-bar-item" hidden="">
		<button aria-expanded="false" class="dropdown-trigger nav-bar-button  has-hover-underline" aria-controls="ax-95">
			<span><!---->More<!----></span>
			<span class="nav-bar-button-chevron" aria-hidden="true">
				<span class="docon docon-chevron-down-light expanded-indicator"></span>
			</span>
		</button>
		<ul class="dropdown-menu" id="ax-95" aria-label="More">
			<!---->
				<li class="nav-bar-item" hidden="">
					<a class=" nav-bar-button is-active" href="https://docs.microsoft.com/en-us/documentation">
						Documentation
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class=" nav-bar-button " href="https://docs.microsoft.com/en-us/learn/">
						Learn
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class=" nav-bar-button " href="https://docs.microsoft.com/en-us/answers/products/">
						Q&amp;A
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class=" nav-bar-button " href="https://docs.microsoft.com/en-us/samples/browse/">
						Code Samples
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class=" nav-bar-button " href="https://docs.microsoft.com/en-us/shows/">
						Shows
					</a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class=" nav-bar-button " href="https://docs.microsoft.com/en-us/events/">
						Events
					</a>
				</li>
		  <!---->
		</ul>
	</li><!---->
			</ul>
		</nav>
	
				<span class="nav-bar-spacer"></span>
				
		<div class="nav-bar-search " id="ax-96" hidden="">
			
		<form class="nav-bar-search-form" method="GET" name="nav-bar-search-form" role="search" id="nav-bar-search-form" aria-label="Search" action="https://docs.microsoft.com/en-us/search/">
			<div class="autocomplete" data-bi-name="autocomplete"><!---->
			<div class="control ">
				<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="site-search-input" class="autocomplete-input input input-sm
						
						" type="search" name="terms" aria-expanded="false" aria-owns="ax-97-listbox" aria-controls="ax-97-listbox" aria-activedescendant="" aria-label="Search" placeholder="Search previous versions" pattern=".*">

				<span aria-hidden="true" class="icon is-small is-left" hidden="">
					<span class="has-text-primary docon docon-undefined"></span>
				</span>

				<span aria-hidden="true" class="autocomplete-loader loader has-text-primary " hidden=""></span>
			</div>

			<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-97-listbox" aria-label="site-search-input-suggestions" hidden="">
				
				
			</ul>
		<!----></div>
			<!-- mobile safari will not dispatch submit event unless there's a submit button that is not display:none -->
			<button type="submit" class="visually-hidden" tabindex="-1" aria-hidden="true"></button>
			<input name="category" hidden="" value="">
			<input name="scope" hidden="" value="Blogs">
			<input name="dataSource" hidden="" value="previousVersions">
			
		</form>
	
		</div>
		
					<div class="nav-bar-search">
						<!-- hidden when the width drops to tablet -->
						
		<form class="nav-bar-search-form" method="GET" name="nav-bar-search-form" role="search" id="nav-bar-search-form-desktop" aria-label="Search" action="https://docs.microsoft.com/en-us/search/">
			<div class="autocomplete" data-bi-name="autocomplete"><!---->
			<div class="control has-icons-left">
				<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="ax-98" class="autocomplete-input input input-sm
						control has-icons-left
						" type="search" name="terms" aria-expanded="false" aria-owns="ax-99-listbox" aria-controls="ax-99-listbox" aria-activedescendant="" aria-label="Search" placeholder="Search previous versions" pattern=".*">

				<span aria-hidden="true" class="icon is-small is-left">
					<span class="has-text-primary docon docon-search"></span>
				</span>

				<span aria-hidden="true" class="autocomplete-loader loader has-text-primary " hidden=""></span>
			</div>

			<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-99-listbox" aria-label="ax-98-suggestions" hidden="">
				
				
			</ul>
		<!----></div>
			<!-- mobile safari will not dispatch submit event unless there's a submit button that is not display:none -->
			<button type="submit" class="visually-hidden" tabindex="-1" aria-hidden="true"></button>
			<input name="category" hidden="" value="">
			<input name="scope" hidden="" value="Blogs">
			<input name="dataSource" hidden="" value="previousVersions">
			
		</form>
	
					</div>
			  
		<div class="nav-bar-search " hidden="">
			<div class="nav-bar-search-form-expander">
				<button id="form-expander" class="nav-bar-button has-hover-underline " title="Search" aria-expanded="false" aria-controls="ax-96">
					
		<span class="is-visually-hidden-mobile"><!---->Search<!----></span>
		<span class="icon margin-left-xxs" aria-hidden="true">
			<span class="docon docon-search"></span>
		</span>
	
				</button>
			</div>
		</div>
	
				
		<div class="nav-bar-profile">
			
		<a class="docs-sign-in auth-status-determined not-authenticated" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe#"> Sign in </a>
	 
		<div class="dropdown has-caret auth-status-determined authenticated">
			<button class="dropdown-trigger button-reset" aria-controls="user-menu" aria-expanded="false" aria-label="Your Account">
				<figure class="image is-36x36">
					<img class="has-body-background-medium border-radius-rounded" alt="" data-profile-property="avatarUrl">
				</figure>
			</button>
			<div class="dropdown-menu box justify-content-flex-start has-body-background" id="user-menu" role="menu">
				<div class="media is-user-dir">
					<div class="media-left">
						<figure class="image is-48x48" aria-hidden="true">
							<img class="has-body-background-medium border-radius-rounded" aria-labelledby="displayName" data-profile-property="avatarUrl">
						</figure>
					</div>
					<div class="media-content">
						<h2 class="title font-size-lg">
							<span id="displayName" class="is-inline-truncated has-max-width-200" data-profile-property="displayName"></span>
						</h2>
						<p class="subtitle font-size-sm margin-bottom-none">
							<span class="is-inline-truncated has-max-width-200" data-profile-property="upn"></span>
						</p>
					</div>
				</div>
				<ul class="padding-top-xs padding-bottom-xs">
					<li class="padding-bottom-xs">
						<a data-profile-property="profileUrl" href="https://docs.microsoft.com/en-us/users/me/activity/"><!---->Profile<!----></a>
					</li>
					<li>
						<a data-profile-property="settingsUrl" href="https://docs.microsoft.com/en-us/users/me/settings/"><!---->Settings<!----></a>
					</li>
				</ul>
				<div class="border-top padding-top-xs">
					<a class="docs-sign-out" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe#"><!---->Sign out<!----></a>
				</div>
			</div>
		</div>
	
		</div>
	
			 <!----></div>  <!----></header>		</div>


			<div id="content-header" class="content-header uhf-container has-padding has-default-focus border-bottom-none" data-bi-name="content-header">
				<div class="content-header-controls margin-xxs margin-inline-sm-tablet">
					<button type="button" class="contents-button button button-sm margin-right-xxs" data-bi-name="contents-expand" aria-haspopup="true" data-contents-button="">
						<span class="icon"><span class="docon docon-menu" aria-hidden="true"></span></span>
						<span class="contents-expand-title">
Table of contents						</span>
					</button>
					<button type="button" class="ap-collapse-behavior ap-expanded button button-sm" data-bi-name="ap-collapse" aria-controls="action-panel">
						<span class="icon"><span class="docon docon-exit-mode" aria-hidden="true"></span></span>
						<span>Exit focus mode</span>
					</button>
				</div>
			</div>

		<div id="disclaimer-holder" class="has-overflow-hidden has-default-focus"><!----> <section data-dismissable="disappearing" class="is-info alert is-banner">
			<div class="uhf-container">
				<button data-dismiss="" type="button" class="delete position-absolute top-0 right-0 margin-xxs delete-lg">
					<span class="visually-hidden"><!---->Dismiss alert<!----></span>
				</button>
				<div class="columns">
					<div class="column is-12">
						<div class="level justify-content-flex-start">
							<div class="level-left flex-shrink-1">
								<div class="level-item flex-shrink-1">
									<p class="has-text-white-static disclaimer-title margin-top-xxs margin-right-xs has-line-height-reset">
										<span class="icon">
											<span class="docon docon-status-error-outline" aria-hidden="true"></span>
										</span>
										<span><!---->We're no longer updating this content regularly. Check the <a href="https://docs.microsoft.com/en-us/lifecycle/products">Microsoft Product Lifecycle</a> for information about how this product, service, technology, or API is supported.<!----></span>
									</p>
								</div>
							</div>
							 <div class="level-right margin-xxs margin-none-tablet">
				<div class="level-item justify-content-flex-start padding-xxs-tablet">
					 <a href="https://docs.microsoft.com/" class="button button-info button-sm margin-inline-xxs">
					<span><!---->Return to main site<!----></span>
			  </a>
				</div>
		  </div>
						</div>
					</div>
				</div>
			</div>
		</section><!----></div>
	</div>

	<div class="mainContainer  uhf-container has-default-focus" data-bi-name="body">

		<div class="columns has-large-gaps is-gapless-mobile ">

			<div id="left-container" class="left-container is-hidden-mobile column is-one-third-tablet is-one-quarter-desktop">
				<nav id="affixed-left-container" class="margin-top-sm-tablet position-fixed display-flex flex-direction-column" role="navigation" aria-label="Primary" style="width: 406px; top: 120.5px; bottom: 24px;" data-bi-name="left toc"><form action="javascript:" role="search" aria-label="Search" class="margin-bottom-xxs"><label class="visually-hidden" for="ax-45">Search</label><div class="autocomplete display-block" data-bi-name="autocomplete"><!---->
			<div class="control has-icons-left">
				<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="ax-45" class="autocomplete-input input input-sm
						control has-icons-left
						width-full" type="text" aria-expanded="false" aria-owns="ax-46-listbox" aria-controls="ax-46-listbox" aria-activedescendant="" placeholder="Filter by title" pattern=".*">

				<span aria-hidden="true" class="icon is-small is-left">
					<span class="has-text-primary docon docon-filter-settings"></span>
				</span>

				<span aria-hidden="true" class="autocomplete-loader loader has-text-primary " hidden=""></span>
			</div>

			<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-46-listbox" aria-label="ax-45-suggestions" hidden="">
				
				
			</ul>
		<!----></div></form><ul class="tree is-vertically-scrollable flex-grow-1 flex-shrink-1" role="tree" aria-label="Table of contents" data-bi-name="tree" data-is-collapsible="true"><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="1" role="treeitem" tabindex="-1" id="title-1-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2012</span></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="2" role="treeitem" tabindex="-1" id="title-2-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2011</span></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="3" role="treeitem" tabindex="-1" id="title-3-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2010</span></li><li class="tree-item is-expanded" aria-setsize="10" aria-level="1" aria-posinset="4" role="treeitem" tabindex="-1" id="title-4-1" aria-expanded="true"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2009</span><ul class="tree-group" role="group"><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="1" role="treeitem" tabindex="-1" id="title-4-1_1-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>12</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="2" role="treeitem" tabindex="-1" id="title-4-1_2-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>11</span></li><li class="tree-item is-expanded" aria-setsize="12" aria-level="2" aria-posinset="3" role="treeitem" tabindex="-1" id="title-4-1_3-2" aria-expanded="true"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>10</span><ul class="tree-group" role="group"><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="1" role="treeitem" tabindex="-1" class="tree-item is-leaf has-external-link-indicator" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/i-have-a-fit-but-a-lack-of-focus">I have a Fit, but a lack of Focus.</a></li><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="2" role="treeitem" tabindex="-1" class="tree-item is-leaf has-external-link-indicator" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/begging-the-question">Begging the question</a></li><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="3" role="treeitem" tabindex="0" class="tree-item is-leaf has-external-link-indicator is-selected" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe" aria-current="page">What is this thing you call "thread safe"?</a></li><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="4" role="treeitem" tabindex="-1" class="tree-item is-leaf has-external-link-indicator" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/as-timeless-as-infinity">As Timeless As Infinity</a></li><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="5" role="treeitem" tabindex="-1" class="tree-item is-leaf has-external-link-indicator" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/absence-of-evidence-is-not-evidence-of-absence">Absence of evidence is not evidence of absence</a></li><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="6" role="treeitem" tabindex="-1" class="tree-item is-leaf has-external-link-indicator" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/whats-the-difference-between-as-and-cast-operators">What's the difference between "as" and "cast" operators?</a></li><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="7" role="treeitem" tabindex="-1" class="tree-item is-leaf has-external-link-indicator" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/why-no-extension-properties">Why No Extension Properties?</a></li><li role="none"><a aria-setsize="8" aria-level="3" aria-posinset="8" role="treeitem" tabindex="-1" class="tree-item is-leaf has-external-link-indicator" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/why-does-char-convert-implicitly-to-ushort-but-not-vice-versa">Why does char convert implicitly to ushort but not vice versa?</a></li></ul></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="4" role="treeitem" tabindex="-1" id="title-4-1_4-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>09</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="5" role="treeitem" tabindex="-1" id="title-4-1_5-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>08</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="6" role="treeitem" tabindex="-1" id="title-4-1_6-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>07</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="7" role="treeitem" tabindex="-1" id="title-4-1_7-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>06</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="8" role="treeitem" tabindex="-1" id="title-4-1_8-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>05</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="9" role="treeitem" tabindex="-1" id="title-4-1_9-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>04</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="10" role="treeitem" tabindex="-1" id="title-4-1_10-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>03</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="11" role="treeitem" tabindex="-1" id="title-4-1_11-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>02</span></li><li class="tree-item" aria-setsize="12" aria-level="2" aria-posinset="12" role="treeitem" tabindex="-1" id="title-4-1_12-2" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>01</span></li></ul></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="5" role="treeitem" tabindex="-1" id="title-5-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2008</span></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="6" role="treeitem" tabindex="-1" id="title-6-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2007</span></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="7" role="treeitem" tabindex="-1" id="title-7-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2006</span></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="8" role="treeitem" tabindex="-1" id="title-8-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2005</span></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="9" role="treeitem" tabindex="-1" id="title-9-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2004</span></li><li class="tree-item" aria-setsize="10" aria-level="1" aria-posinset="10" role="treeitem" tabindex="-1" id="title-10-1" aria-expanded="false"><span data-bi-name="tree-expander" class="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>2003</span></li></ul></nav>
			</div>

			<!-- .primary-holder -->
			<section class="primary-holder column is-two-thirds-tablet is-three-quarters-desktop">
				<!--div.columns -->
				<div class="columns is-gapless-mobile has-large-gaps ">


					<div id="main-column" class="column is-full is-8-desktop">

						<main id="main" role="main" data-bi-name="content" lang="en-us" dir="ltr">
							<!-- article-header -->
							<div id="article-header" class="background-color-body margin-top-sm-tablet margin-bottom-xs" aria-label="content-header">
								<div class="display-flex align-items-center ">
									<details id="article-header-breadcrumbs-overflow-popover" class="popover" data-for="article-header-breadcrumbs" hidden="">
										<summary class="button button-clear button-primary button-sm">
											<span class="icon">
												<span class="docon docon-more"></span>
											</span>
										</summary>
										<div id="article-header-breadcrumbs-overflow" class="popover-content padding-none"><!---->
			<nav>
				<ol class="list-style-none">
					<!---->
								<li class="line-clamp-1">
									<a class="display-block has-inner-focus padding-inline-xs padding-block-xxs border-radius font-size-sm" href="https://docs.microsoft.com/en-us/">
										Docs
									</a>
								</li>
							<!----><!---->
								<li class="line-clamp-1">
									<a class="display-block has-inner-focus padding-inline-xs padding-block-xxs border-radius font-size-sm" href="https://docs.microsoft.com/en-us/archive/blogs/">
										Blog Archive
									</a>
								</li>
							<!----><!---->
								<li class="line-clamp-1">
									<a class="display-block has-inner-focus padding-inline-xs padding-block-xxs border-radius font-size-sm" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert">
										Fabulous Adventures In Coding
									</a>
								</li>
							<!---->
				</ol>
			</nav>
		<!----></div>
									</details>
									<bread-crumbs id="article-header-breadcrumbs" class="overflow-hidden flex-grow-1 margin-right-sm margin-right-md-tablet margin-right-lg-desktop" style="display: block; white-space: nowrap; overflow: hidden;"><!---->
			<nav>
				<ol class="breadcrumbs">
					<!---->
								<li class="breadcrumbs-item" data-bread-crumbs-collapse-target="">
									<a href="https://docs.microsoft.com/en-us/"> Docs </a>
								</li>
							<!----><!---->
								<li class="breadcrumbs-item" data-bread-crumbs-collapse-target="">
									<a href="https://docs.microsoft.com/en-us/archive/blogs/"> Blog Archive </a>
								</li>
							<!----><!---->
								<li class="breadcrumbs-item" data-bread-crumbs-collapse-target="" style="">
									<a href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert" style=""> Fabulous Adventures In Coding </a>
								</li>
							<!---->
				</ol>
			</nav>
		<!----></bread-crumbs>

									<div id="article-header-page-actions" class="margin-left-auto display-flex flex-wrap-no-wrap align-items-stretch">

										<a id="lang-link-tablet" class="button button-primary button-clear button-sm display-none display-inline-flex-tablet" title="Read in English" data-bi-name="language-toggle" data-read-in-link="" hidden="" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe" data-bi="{&quot;cN&quot;:&quot;language-toggle&quot;,&quot;value&quot;:&quot;off&quot;}">
											<span class="icon margin-none" aria-hidden="true" data-read-in-link-icon="">
												<span class="docon docon-locale-globe"></span>
											</span>
											<span class="is-visually-hidden" data-read-in-link-text="">Read in English</span>
										</a>

											<button type="button" class="collection button button-clear button-sm button-primary display-none display-inline-flex-tablet" data-list-type="collection" data-bi-name="collection" title="Add What is this thing you call &quot;thread safe&quot;? | Microsoft Docs to a collection" data-pressed="false">
												<span class="icon margin-none" aria-hidden="true">
													<span class="docon docon-circle-addition"></span>
												</span>
												<span class="collection-status is-visually-hidden">Save</span>
											</button>
										

										

										

										


										
										<details class="popover popover-right" id="article-header-page-actions-overflow">
											<summary class="justify-content-flex-start button button-clear button-sm button-primary" aria-label="More actions">
												<span class="icon" aria-hidden="true">
													<span class="docon docon-more-vertical"></span>
												</span>
											</summary>
											<div class="popover-content padding-none">
													<button data-page-action-item="overflow-mobile" type="button" class="justify-content-flex-start button-block button-sm has-inner-focus button button-clear display-none-tablet" aria-label="Contents" data-bi-name="contents-expand" data-contents-button="" data-popover-close="">
														<span class="icon">
															<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
														</span>
														<span class="contents-expand-title">Table of contents</span>
													</button>

												<a id="lang-link-overflow" class="justify-content-flex-start button-sm has-inner-focus button button-clear button-block display-none-tablet" title="Read in English" data-bi-name="language-toggle" data-page-action-item="overflow-mobile" data-check-hidden="true" data-read-in-link="" hidden="" href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe" data-bi="{&quot;cN&quot;:&quot;language-toggle&quot;,&quot;value&quot;:&quot;off&quot;}">
													<span class="icon" aria-hidden="true" data-read-in-link-icon="">
														<span class="docon docon-locale-globe"></span>
													</span>
													<span data-read-in-link-text="">Read in English</span>
												</a>

													<button type="button" class="collection justify-content-flex-start button button-clear button-sm has-inner-focus button-block display-none-tablet" data-list-type="collection" data-bi-name="collection" title="Add What is this thing you call &quot;thread safe&quot;? | Microsoft Docs to a collection" data-page-action-item="overflow-mobile" data-check-hidden="true" data-popover-close="" data-pressed="false">
														<span class="icon" aria-hidden="true">
															<span class="docon docon-circle-addition"></span>
														</span>
														<span class="collection-status">Save</span>
													</button>




													<div aria-hidden="true" class="margin-none display-none-tablet border-top" data-page-action-item="overflow-all"></div>

													
														<a class="button button-clear button-sm has-inner-focus button-block text-decoration-none justify-content-flex-start share-twitter" data-bi-name="twitter" data-page-action-item="overflow-all" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Farchive%2Fblogs%2Fericlippert%2Fwhat-is-this-thing-you-call-thread-safe%3FWT.mc_id%3Dtwitter&amp;text=What%20is%20this%20thing%20you%20call%20%22thread%20safe%22%3F%20%7C%20Microsoft%20Docs&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Farchive%2Fblogs%2Fericlippert%2Fwhat-is-this-thing-you-call-thread-safe%3FWT.mc_id%3Dtwitter">
															<span class="icon" aria-hidden="true">
																<span class="docon docon-brand-twitter"></span>
															</span>
															<span>Twitter</span>
														</a>
														<a class="button button-clear button-sm has-inner-focus button-block text-decoration-none justify-content-flex-start share-linkedin" data-bi-name="linkedin" data-page-action-item="overflow-all" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Farchive%2Fblogs%2Fericlippert%2Fwhat-is-this-thing-you-call-thread-safe%3FWT.mc_id%3Dlinkedin">
															<span class="icon" aria-hidden="true">
																<span class="docon docon-brand-linkedin"></span>
															</span>
															<span>LinkedIn</span>
														</a>
														<a class="button button-clear button-sm button-block has-inner-focus text-decoration-none justify-content-flex-start share-facebook" data-bi-name="facebook" data-page-action-item="overflow-all" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Farchive%2Fblogs%2Fericlippert%2Fwhat-is-this-thing-you-call-thread-safe%3FWT.mc_id%3Dfacebook">
															<span class="icon" aria-hidden="true">
																<span class="docon docon-brand-facebook"></span>
															</span>
															<span>Facebook</span>
														</a>
														<a class="button button-clear button-sm button-block has-inner-focus text-decoration-none justify-content-flex-start share-email" data-bi-name="email" data-page-action-item="overflow-all" href="mailto:?subject=%5BShared%20Article%5D%20What%20is%20this%20thing%20you%20call%20%22thread%20safe%22%3F%20%7C%20Microsoft%20Docs&amp;body=What%20is%20this%20thing%20you%20call%20%22thread%20safe%22%3F%20%7C%20Microsoft%20Docs%0A%0Ahttps%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Farchive%2Fblogs%2Fericlippert%2Fwhat-is-this-thing-you-call-thread-safe%3FWT.mc_id%3Demail">
															<span class="icon" aria-hidden="true">
																<span class="docon docon-mail-message-fill"></span>
															</span>
															<span>Email</span>
														</a>
												
											</div>
										</details>
										
									</div>
								</div>
							</div>
							<!-- end article-header -->


							<div class="">
								<button type="button" class="border contents-button button button-clear button-sm is-hidden-tablet has-inner-focus" aria-label="Contents" data-bi-name="contents-expand" data-contents-button="" hidden="">
									<span class="icon">
										<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
									</span>
									<span class="contents-expand-title">Table of contents</span>
								</button>
							</div>

							<!-- end mobile-contents button  -->

							<div class="content ">


								<h1 id="what-is-this-thing-you-call-thread-safe">What is this thing you call "thread safe"?</h1>



										<div class="display-flex-tablet justify-content-space-between-tablet page-metadata-container">

											<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
														<li>
Article														</li>
														<li>
															<time class="" data-article-date="" aria-label="Article review date" datetime="2009-10-19T00:00:00.000Z" data-article-date-source="ms.date">10/19/2009</time>
														</li>
																<li class="readingTime">6 minutes to read</li>
											</ul>
											</div>


											<nav id="center-doc-outline" class="doc-outline is-hidden-desktop" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
												<h3>In this article</h3>
											</nav>



								<!-- <content> -->
									<p><strong>Caveat: I am not an expert on multi-threading programming.</strong> In fact, I wouldn't even say that I am <em>competent</em> at it. My whole career, I've needed to write code to spin up a secondary worker thread probably less than half a dozen times. So take everything I say on the subject with some skepticism.</p>
<p>A question I'm frequently asked: "<em>is this code <strong>thread safe</strong>?</em> " To answer the question, clearly we need to know what "thread safe" means.</p>
<p>But before we get into that, there's something I want to clear up first. A question I am less frequently asked is "<em>Eric, why does Michelle Pfeiffer always look so good in photographs?</em> "&nbsp;To help answer this pressing question, I&nbsp;consulted <a href="https://en.wikipedia.org/wiki/Photogenic" data-linktype="external">Wikipedia</a>:</p>
<blockquote>
<p><em>"A <strong>photogenic</strong> subject is a subject that usually appears physically attractive or striking in photographs."</em></p>
</blockquote>
<p>Why&nbsp;does Michelle Pfeiffer always look so good in photographs? <strong><em>Because she's photogenic</em>.</strong> Obviously.</p>
<p>Well, I'm glad we've cleared up that mystery, but I seem to have wandered somehwat from the subject at hand. Wikipedia is <a href="https://en.wikipedia.org/wiki/Thread_safety" data-linktype="external">just as helpful in defining thread safety</a>:</p>
<blockquote>
<p>&nbsp; <em>"A piece of code is <strong>thread-safe</strong> if it functions correctly during simultaneous execution by multiple threads."</em></p>
</blockquote>
<p>As with photogenicity, this&nbsp;is obvious question-begging. When we ask "is this code <em>thread safe</em>?" all we are really asking is "is this code <em>correct</em> <em>when called in a particular manner</em>?"&nbsp;So how do we determine if the code is correct? <strong>We haven't actually explained anything here.</strong></p>
<p>Wikipedia goes on:</p>
<blockquote>
<p><em>"In particular, it must satisfy the need for multiple threads to access the same shared data, ..."</em></p>
</blockquote>
<p>This seems fair; this scenario is almost always what people mean when they talk about thread safety. But then:</p>
<blockquote>
<p><em>"...and the need for a shared piece of data to be accessed by only one thread at any given time."</em></p>
</blockquote>
<p>Now we're talking about techniques for <em>creating</em> thread safety, not <em>defining</em> what thread safety means. Locking data so that it can only be accessed by one thread at a time is just one possible&nbsp;technique for creating thread safety; it is not itself the definition of thread safety.</p>
<p>My point is not that the definition is <em>wrong</em>; as informal definitions of thread safety&nbsp;go, this one is not terrible.&nbsp;Rather, my point is&nbsp;that the&nbsp;definition indicates that the concept itself is <em>completely vague</em> and essentially means nothing more than "behaves correctly in some situations". Therefore, when I'm asked "is this code thread safe?" I always have to push back and ask "what are the <em>exact</em> <em>threading scenarios</em> you are concerned about?" and "exactly what is <em>correct behaviour</em> of the object in every one of those scenarios?"</p>
<p>Communication problems arise when&nbsp;people with different answers to those questions try to communicate about thread safety. For example, suppose I told you that I have a "threadsafe mutable queue" that you can use in your program.&nbsp;You then cheerfully write the following code that runs on one thread while another thread is busy adding and removing items from the mutable queue:</p>
<p>if (!queue.IsEmpty) Console.WriteLine(queue.Peek());</p>
<p>Your code then crashes when the Peek throws a QueueEmptyException. What is going on here? I&nbsp;said this&nbsp;thing was thread safe, and yet your code is crashing in a multi-threaded scenario.</p>
<p>When I said "the queue is threadsafe" I meant that the queue maintains its internal state consistently no matter what sequence of <em>individual</em> operations are happening on other threads. But I did not mean that you can use my queue in any scenario that requires <em>logical consistency maintained across multiple operations in a sequence</em>. In short, my opinion of "correct behaviour" and your opinion of the same differed because what we thought of as the relevant scenario was completely different. I care only about not crashing, but you care about being able to reason logically about the information returned from each method call.</p>
<p>In this example, you and I are probably&nbsp;talking about different kinds of thread safety. Thread safety of mutable data structures is usually all about ensuring that the operations on the shared data always operate on the <strong>most up-to-date</strong> state of the shared data as it mutates, even if that means that a particular combination of operations appears to be <strong>logically inconsistent</strong>, as in our example above. Thread safety of immutable data structures is all about ensuring that use of&nbsp;the data across all operations is <strong>logically consistent</strong>, at the expense of the fact that you're looking at an&nbsp;immutable&nbsp;snapshot that might be <strong>out-of-date</strong>.</p>
<p>The problem here is that the choice about whether to access the first element or not is based on "stale" data. Designing a truly thread-safe mutable data structure in a world where <em>nothing is allowed to be stale</em> can be&nbsp;very difficult. Consider what you'd have to do in order to make the "Peek" operation above actually threadsafe. You'd need a new method:</p>
<p>if (!queue.Peek(out first)) Console.WriteLine(first);</p>
<p>Is this "thread safe"? It certainly seems better.&nbsp;But what if after the Peek, a different thread dequeues the queue? Now you're not crashing, but you've changed the behaviour of the previous program considerably. In the previous program, if, after the test there was a dequeue on another thread that changed what the first element was, then you'd either crash or&nbsp;print out the up-to-date first element in the queue. Now you're printing out a <em>stale</em> first element. Is that <em>correct</em>? Not if we <em>always</em> want to operate on up-to-date data!</p>
<p>But wait a moment -- actually, the <em>previous</em> version of the code had this problem as well. What if the dequeue on the other thread happened <em>after</em> the call to Peek succeeded but <em>before</em> the Console.WriteLine call executed? Again, you could be printing out stale data.</p>
<p>What if you want to ensure that you are always printing out up-to-date data? What you really need to make this threadsafe is:</p>
<p>queue.DoSomethingToHead(first=&gt;{Console.WriteLine(first);});</p>
<p>Now the queue&nbsp;author and the queue user agree on what the relevant scenarios are, so this is truly threadsafe. Right?</p>
<p>Except... there could be something super-complicated in that delegate. What if whatever is in the delegate happens to cause an event that triggers code to run on another thread, which in turn causes some queue operation to run, which in turn blocks in such a manner that we've produced a deadlock? Is a deadlock "correct behaviour"? And if not, is&nbsp;this method truly "safe"?</p>
<p>Yuck.</p>
<p>By now you take my point I'm sure.&nbsp;As I pointed out earlier, <a href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/tasty-beverages" data-linktype="relative-path">it is unhelpful to say that a building or a hunk of code is "secure" without somehow communicating <strong>which threats</strong>&nbsp;the utilized security mechanism are and are not&nbsp;proof against.</a> Similarly,&nbsp;<strong>it is unhelpful to say that code is "thread safe" without somehow communicating what undesirable behaviors the utilized thread safety mechanisms do and do not prevent.</strong> "Thread safety" is nothing more nor less than a code contract, like any other code contract. You agree to talk to an object in a particular manner, and it agrees to give you correct results if you do so; working out exactly what that manner is, and what the correct responses are, is a potentially tough problem.</p>
<p>************</p>
<p>(*) Yes, I'm aware that if I think something on Wikipedia is wrong, I can change it. There are two reasons why I should not do so.&nbsp;First, as&nbsp;I've already stated I'm not an expert in this area; I leave it to the experts to sort out amongst themselves what the right thing to say here is. And second, my point is not that the Wikipedia page is wrong, but rather that it illustrates that the term itself is&nbsp;vague by nature.</p>

							</div>
							<!-- </content> -->

						<div class="user-comments content"><!----><!----><h2><!---->Comments<!----></h2>
		<ul class="margin-none ">
			<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Steve Bjorg<!----></div> <time class="display-block" datetime="2009-10-19T02:44:53.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>It can get even more complicated. &nbsp;In our implementation of the work-stealing queue (based on the excellent work of Danny Hendler, et al), we have thread-safety in one method only, namely TrySteal(). &nbsp;The other methods, Push() and TryPop() are by-design always called from the same thread. &nbsp;Calling them from different threads would be a violation of the contract. &nbsp;However, TrySteal() can be called by a number of different threads and not corrupt the state of the queue. &nbsp;What's even more amazing is that the implementation achieves this without any locks or loops!</p>
<p>For those curious, the C# implementation of LockFreeWorkStealingDeque is available under Apache 2 in MindTouch Dream.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Vish<!----></div> <time class="display-block" datetime="2009-10-19T03:53:12.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>Wouldn't putting access to data structures that mutate in a critical section(lock) be better? Thread safe (simultaneous access by many threads) should only be for code that dont handle shared data structures...</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Aaargh!<!----></div> <time class="display-block" datetime="2009-10-19T03:57:15.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>In this particular example, the queue is perfectly thread safe, the code using the queue isn't. The queue is only responsible for itself, the fact that you're doing multi-threaded operations on the queue implies that any information you get from the queue can be out of date a few moments later. </p>
<p>Your example code does not take into account the fact that the queue can be modified at any time by other threads, and your code is thus not thread safe. If you need multiple calls to the queue to be consistent, you have an unguarded critical path in _your code_ not in the queue's, and it's your responsibility to guard it. In this case it could be solved by synchronizing on the queue.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Aaron Friel<!----></div> <time class="display-block" datetime="2009-10-19T04:05:27.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>When you reference Wikipedia, especially by link as you have done, it's especially important to use the "Permanent Link" button in the bottom left. That allows you to permanently link to the same version of the article that you saw.</p>
<p>Otherwise what you're linking to could be vandalized (popular articles frequently are, though they are corrected that much more quickly,) and your users could see something other than what you intended, or problems that you point out could be corrected, and your point is moot. :)</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Frank Booth<!----></div> <time class="display-block" datetime="2009-10-19T04:17:17.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>&gt; As with photogenicity, this is obvious question-begging.</p>
<p>How is this question-begging?</p>
<p>Question begging does not mean "to avoid providing the answer to a question" it means that a new question needs to be answered as a result of the answer to the original question. </p>
<p>That is all.</p>

<p>No, it doesn't mean that. Let me give you another example of question begging.</p>
<p>Suppose I asked "why is diamond hard but&nbsp;butter is soft?" and you answered "diamond and butter are both made out of atoms; the atoms of diamonds are hard and the atoms of butter are soft." You would have begged the question; your answer to my question "why are some things hard and some things soft" is "because some things are made out of stuff that is hard and some things are made out of stuff that is soft" -- that is, you've avoided answering the question&nbsp;by providing&nbsp;an "explanation" that itself cannot be understood without answering the original question -- namely, why is some stuff hard and some stuff soft? This pseudo-explanation has no predictive power; it doesn't tell us anything new, it just circles back on itself.&nbsp; </p>
<p>A non-question-begging answer would be "diamond and butter are both made of atoms; the atoms of diamond are all identical and arranged in a stable, rigid lattice where every point in the lattice is reinforced by a strong bond to four other points. The atoms of butter are a&nbsp;disorganized collection of many different atoms that hold weakly to each other. It takes only a small force to disrupt the loose arrangement of butter atoms but a very large force to disrupt the strong arrangement of diamond atoms."</p>
<p>Now, this explanation does *raise* more questions. It raises questions like "why are some lattices strong and some weak?" and "why are some objects composed of many different kinds of atoms, and some composed of just one atom?" Question-begging is not the act of raising more questions. Every explanation raises more questions. This particular explanation is testable, and has predictive power; we can investigate the hardness or softness of other substances, and make predictions about what sorts of atomic structures they will have -- or, vice versa, we can look at an atomic structure and try to figure out from it how hard the substance will be.</p>
<p>My point here is that "because she's photogenic" is question-begging. Why does she look so good? Because she's photogenic. Why is she photogenic? Because she looks so good.&nbsp;We have learned nothing about photogenicity (or Ms. Pfeiffer). </p>
<p>Similarly, if you ask "why is this code thread-safe?" and the answer is "because it can be correctly called on multiple threads", you've begged the question. Why is it thread-safe? Because it's correct. Why is it correct? Because it's thread-safe. Again, we have learned nothing about the nature of thread safety.</p>
<p>-- Eric</p><!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Aaargh!<!----></div> <time class="display-block" datetime="2009-10-19T04:30:47.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>&gt; Question begging does not mean "to avoid providing the answer to a question"</p>
<p>Correct, it does not mean that.</p>
<p>&gt; it means that a new question needs to be answered as a result of the answer to the original question.</p>
<p>It doesn't mean that either.</p>
<p>The way it's used in the article is correct, see for more information: <a href="http://en.wikipedia.org/wiki/Begging_the_question">http://en.wikipedia.org/wiki/Begging_the_question</a></p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Dan Diplo<!----></div> <time class="display-block" datetime="2009-10-19T05:15:54.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>This raises the bigger question - is Michelle Pfeiffer &nbsp;thread safe? </p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-10-19T05:57:25.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Nym<!----></div> <time class="display-block" datetime="2009-10-19T09:36:59.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>Hey throw some shared memory in there for yet more fun. </p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-10-19T10:31:41.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-10-19T11:35:12.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-10-19T15:23:26.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-10-19T17:45:18.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->JonB<!----></div> <time class="display-block" datetime="2009-10-19T20:06:14.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>"Thread safe" is a bit of a C throw-back, where you can determine if a particular function is thread safe if it isn't dependent on any stored state. &nbsp;However an object could only be deemed thread safe in the same manner if it didn't maintain any state, which wouldn't be much of an object.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Alun Harford<!----></div> <time class="display-block" datetime="2009-10-19T20:54:33.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>"Thread-safe" is not at all vague.</p>
<p>It's a statement that if each thread's rely condition is satisfied then that thread satisfies its guarantee condition and each thread's guarantee condition implies the others' rely conditions.</p>
<p>It's only vague when we choose to rely on intuition rather than mathematics when we describe a system.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Joe<!----></div> <time class="display-block" datetime="2009-10-19T20:55:21.000Z"><!---->October 19, 2009<!----></time>
						<div class="comment-body"><!----><p>If something is thread safe, say an API, it can be used by several threads at the same time without the caller having to think about it. This is as old as computers. &nbsp;It is not something you can wave your hand at and say is vague and then ignore. If something is not thread safe, you should only use it from a single thread, or it is likely to crash, hang, or just silently go wrong. If you want to develop in a thread safe manner, and you do, you must think defensively, and at very least do a global lock so in your code, things are only happening single threaded. Later on, carefully break stuff up into separate locks, then maybe use read/write locks. Yes it's harder, and there are many traps, but there is many off the shelf tools and techniques, plus most of computer history, to help you. That or develop in a language that does it for you, but that will always be more limited than a manual environment. Just like with cars and gears, all racing cars are manual and you can't get the same miles per gallon without manual. Your fooling yourself if you think automatic is as good.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Carl Daniel<!----></div> <time class="display-block" datetime="2009-10-19T23:19:29.000Z"><!---->October 20, 2009<!----></time>
						<div class="comment-body"><!----><p>I have to agree with Eric on this one. &nbsp;While there are good definitions of "thread safe", there is no universal agreement on which of the many good definitions is "correct". &nbsp;Correctness, of course, depends on the circumstances. &nbsp;As a result, the term "thread safe" with no further qualification is vague at best, dangerously misleading at worst.</p>
<p>Thread safety is somewhat analogous to exception safety. &nbsp;The C++ community has settled on a multi-tier defintion of "exception safe" - I would propse that a similar family of thread safety guarantees would be a useful addition to the dialog. &nbsp;The mathematical defintion that Alun provided above sounds like a good candiate for being "the strong guarantee". &nbsp;At another extreme, a class that's documented as providing a single method that can be invoked by less than 3 threads under specific circumstances would be an example of a very weak guarantee.</p>
<p>The problem with the very stong guarantee that Alun provided - just like the stong exception safety guarantee in C++ - is that most cases don't require a guarantee that strong, and generally speaking, providing such a strong guarantee is more difficult and less efficient (naturally, there are always exceptions).</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Adam V<!----></div> <time class="display-block" datetime="2009-10-20T00:39:16.000Z"><!---->October 20, 2009<!----></time>
						<div class="comment-body"><!----><p>I'm hoping (fingers crossed!) that the inclusion of the "Michelle Pfeiffer" tag means that Ms. Pfeiffer will make additional appearances in future examples. I for one welcome our new photogenic example overlords.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-10-20T05:28:01.000Z"><!---->October 20, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->eff Five<!----></div> <time class="display-block" datetime="2009-10-21T05:40:53.000Z"><!---->October 21, 2009<!----></time>
						<div class="comment-body"><!----><p>Eric:</p>
<p>If I said the that "this code is thread un-safe" would it be less vague than "is this code thread safe"?</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Larry<!----></div> <time class="display-block" datetime="2009-10-22T01:26:14.000Z"><!---->October 22, 2009<!----></time>
						<div class="comment-body"><!----><p>I don't think the assertion of thread safety tells us nothing, or even almost nothing. I've always interpreted "thread-safe" to assert the *minimal* contract of thread-safety: instance separation (no mutable static state) and method/property atomicity; operations on a shared instance in multiple threads will behave the same way and leave the instance in a the same state at sequence points as the same operations called in an unpredictable, arbitrary order on one thread. In other words, if one thread calls obj.A () and another thread calls obj.B (), then those calls will be equivalent to calling obj.A (); obj.B (); or obj.B (); obj.A () in one thread. I never have to lock an thread-safe object to do a single call; I have to lock it (or do something special) only when I want to be sure of the *order* of calls.</p>
<p>As you note, this is not a very strong contract, and I'm not at all surprised that some people might believe "thread safety" asserts a stronger contract. But minimal thread-safety is still a non-trivial contract.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Grant Husbands<!----></div> <time class="display-block" datetime="2009-10-22T08:29:11.000Z"><!---->October 22, 2009<!----></time>
						<div class="comment-body"><!----><p>I agree with Larry, and I'll add that a lack of thread-safety doesn't just affect ordering. Code that isn't thread-safe being called from multiple threads easily results in state corruption, seemingly arbitrary exceptions and memory corruption (not in all languages). When you call code that's simply "thread-safe", you can expect behaviour approximately matching that of the contract.</p>
<p>If there's a thread-safe queue with TryPop, I know I can use that from multiple threads without breaking anything and that each call will get a uniquely-added entry (or false,null). However, Peek will obviously always be meaningless in such circumstances.</p>
<p>This does all make me think, though; there may be some good mileage in having thread-safe libraries go out of their way to induce failure in multi-threaded callers, in an appropriate debug mode. Many queue methods, for example, could delay a little, in hope of returning an unexpected null to a caller or returning the same result simultaneously to two callers (where Peek is involved).</p>
<p>Hopefully, more people will start using multi-threading idioms other than shared-state-with-locks, and much of the problem will be reduced.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Filini<!----></div> <time class="display-block" datetime="2009-10-22T18:59:32.000Z"><!---->October 22, 2009<!----></time>
						<div class="comment-body"><!----><p>@Dan: "This raises the bigger question - is Michelle Pfeiffer &nbsp;thread safe? "</p>
<p>Michelle Pfeiffer can do whatever she wants to my threads :)</p>
<p>(sorry for the OT, I couldn't resist)</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->cpun<!----></div> <time class="display-block" datetime="2009-10-23T06:25:48.000Z"><!---->October 23, 2009<!----></time>
						<div class="comment-body"><!----><p>I would define a method to be thread-safe if atleast one of these is true:</p>
<p>1. it is a pure function</p>
<p>2. For functions that read and/or write mutable shared state, if the class invariants can NOT be violated as a consequence of the number, timing and/or interleaving of threads executing this very same method concurrently.</p>
<p>Eric, I would say that you are taking on a whole different animal in your example by talking about thread-safety at the level of conducting multiple operations on an object whose state can be modified by different threads. Thread-safe constructs as they are used now do NOT compose (EVER). That is to say in:</p>
<p>if (!queue.IsEmpty) Console.WriteLine(queue.Peek());</p>
<p>I might take and release a lock in IsEmpty and do the same in Peek(), but the outcome of composing these into the above statement is NOT thread safe. This is, I would argue, &nbsp;not a knock on the thread-safety of the member functions of Queue at all. You could easily have a TryPeekAndPrint() call on Queue that does the above operation in a thread-safe manner by composing all the other operations.</p>
<p>This is pretty much where Software Transactional Memory comes in since you want to make sure that the outcome of doing IsEmpty and Peek is not influenced by other threads or transient behavior. </p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->jerome<!----></div> <time class="display-block" datetime="2009-10-30T19:01:32.000Z"><!---->October 30, 2009<!----></time>
						<div class="comment-body"><!----><p>There's exactly the same remark in Java Concurrency in Practice, section 2.1...</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-11-04T00:30:51.000Z"><!---->November 4, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-11-16T22:21:41.000Z"><!---->November 16, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->0x60de<!----></div> <time class="display-block" datetime="2009-11-30T23:36:51.000Z"><!---->December 1, 2009<!----></time>
						<div class="comment-body"><!----><p>I think nobody should ever attest to an "object" being thread-safe. you may have stateful behaviour or may have stateless method calls (each method requires all parameters to be operate on and does not maintain state).</p>
<p>The most we could attest to is an "operation" is thread-safe. Once you follow this definition, you may alternatively attest that "each" operations in Queue class is thread-safe.</p>
<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Anonymous<!----></div> <time class="display-block" datetime="2009-12-04T05:31:54.000Z"><!---->December 4, 2009<!----></time>
						<div class="comment-body"><!---->The comment has been removed<!----></div>
						
					</li>
				<!---->
					<li class="padding-block-xxs border-top">
						<div class="display-inline font-weight-semibold"><!---->Shawn<!----></div> <time class="display-block" datetime="2011-07-14T03:02:12.000Z"><!---->July 14, 2011<!----></time>
						<div class="comment-body"><!----><p>If you updated wikipedia you'ed need to re-write your opening analogy. You wouldn't want to be referenceing stale data.</p>
<!----></div>
						
					</li>
				<!---->
		</ul><!----></div></main>




						<!-- recommendations section -->
							<section id="recommendations-section" data-bi-name="recommendations"></section>
						<!-- end recommendations section -->

							<section id="right-rail-learning-resources-mobile" class="display-none-desktop margin-top-xxs" data-bi-name="learning-resources-card" hidden=""></section>
							<section id="right-rail-qna-mobile" class="display-none-desktop margin-top-xxs" data-bi-name="qna-link-card" hidden=""></section>

						<!-- feedback section -->
						<!-- end feedback section -->

						<!-- feedback report section -->
						<!-- end feedback report section -->

							<section id="right-rail-events-mobile" class="display-none-desktop margin-top-xs" data-bi-name="events-card" hidden=""></section>

						<div class="border-top is-visible-interactive has-default-focus margin-top-sm ">



	<footer id="footer-interactive" data-bi-name="footer" class="footer-layout">
	<div class="display-flex is-full-height padding-right-lg-desktop">
			<a data-mscc-ic="false" class="locale-selector-link button button-clear flex-shrink-0" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe" data-bi-name="select-locale">
					<span class="icon" aria-hidden="true">
						<span class="docon docon-world"></span>
					</span>
					<span class="local-selector-link-text">English (United States)</span></a>
		<div class="margin-inline-xs flex-shrink-0">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button button-clear button-sm has-inner-focus theme-dropdown-trigger" aria-controls="theme-menu-interactive" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu-interactive" role="menu">
		<ul class="theme-selector padding-xxs">
			<li class="theme display-block">
				<button class="button button-clear button-sm theme-control button-block justify-content-flex-start" data-theme-to="light" aria-pressed="false">
					<span class="theme-light margin-right-xxs">
						<span class="theme-selector-icon css-variable-support border display-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme display-block">
				<button class="button button-clear button-sm theme-control button-block justify-content-flex-start is-selected" data-theme-to="dark" aria-pressed="true">
					<span class="theme-dark margin-right-xxs">
						<span class="border theme-selector-icon css-variable-support display-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme display-block">
				<button class="button button-clear button-sm theme-control button-block justify-content-flex-start" data-theme-to="high-contrast" aria-pressed="false">
					<span class="theme-high-contrast margin-right-xxs">
						<span class="border theme-selector-icon css-variable-support display-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>
		</div>
	</div>
	<ul class="links" data-bi-name="footerlinks">
		<li class="manage-cookies-holder"><button data-bi-name="manageCookies">Manage cookies</button></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
					<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
				<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li>© Microsoft 2022</li>
	</ul>
</footer>
						</div>

					</div>

						<div class="font-size-sm right-container column is-4-desktop display-none display-block-desktop" data-bi-name="pageactions" role="complementary" aria-label="Page Actions">

							<div id="affixed-right-container" class="margin-top-sm-tablet doc-outline is-vertically-scrollable" data-bi-name="right-column">
								<nav id="side-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
									<h3>In this article</h3>
								</nav>
								<section id="right-rail-events" class="margin-top-xxs" data-bi-name="events-card" hidden=""></section>
								<section id="right-rail-learning-resources" class="margin-top-xxs" data-bi-name="learning-resources-card" hidden=""></section>
								<section id="right-rail-recommendations" data-bi-name="recommendations" class="margin-top-xxs" hidden=""></section>
								<section id="right-rail-qna" class="margin-top-xxs" data-bi-name="qna-link-card" hidden=""></section>
							</div>
						</div>

				</div>
				<!--end of div.columns -->

			</section>
			<!--end of .primary-holder -->

			<!-- interactive container -->
			<aside id="interactive-container" class="interactive-container is-visible-interactive column has-body-background-dark ">
			</aside>
			<!-- end of interactive container -->
		</div>

	</div>
	<!--end of .mainContainer -->

	<section class="border-top has-default-focus is-hidden-interactive margin-top-sm ">



	<footer id="footer" data-bi-name="footer" class="footer-layout uhf-container has-padding" role="contentinfo">
	<div class="display-flex is-full-height padding-right-lg-desktop">
			<a data-mscc-ic="false" class="locale-selector-link button button-clear flex-shrink-0" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/archive/blogs/ericlippert/what-is-this-thing-you-call-thread-safe" data-bi-name="select-locale">
					<span class="icon" aria-hidden="true">
						<span class="docon docon-world"></span>
					</span>
					<span class="local-selector-link-text">English (United States)</span></a>
		<div class="margin-inline-xs flex-shrink-0">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button button-clear button-sm has-inner-focus theme-dropdown-trigger" aria-controls="theme-menu" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu" role="menu">
		<ul class="theme-selector padding-xxs">
			<li class="theme display-block">
				<button class="button button-clear button-sm theme-control button-block justify-content-flex-start" data-theme-to="light" aria-pressed="false">
					<span class="theme-light margin-right-xxs">
						<span class="theme-selector-icon css-variable-support border display-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme display-block">
				<button class="button button-clear button-sm theme-control button-block justify-content-flex-start is-selected" data-theme-to="dark" aria-pressed="true">
					<span class="theme-dark margin-right-xxs">
						<span class="border theme-selector-icon css-variable-support display-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme display-block">
				<button class="button button-clear button-sm theme-control button-block justify-content-flex-start" data-theme-to="high-contrast" aria-pressed="false">
					<span class="theme-high-contrast margin-right-xxs">
						<span class="border theme-selector-icon css-variable-support display-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>
		</div>
	</div>
	<ul class="links" data-bi-name="footerlinks">
		<li class="manage-cookies-holder"><button data-bi-name="manageCookies">Manage cookies</button></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
					<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
				<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li>© Microsoft 2022</li>
	</ul>
</footer>
	</section>

	<div id="action-panel" role="region" aria-label="Action Panel" class="action-panel has-default-focus" tabindex="-1" aria-expanded="false"></div>


</body></html>